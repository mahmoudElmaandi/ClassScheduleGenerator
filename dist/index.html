<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Class Schedule Generator</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css">

  <style>
    body {
      text-align: center;
      font-family: system-ui !important;
      width: 95%;
      padding: 6px;
      margin: auto;
      font-weight: 500;
      direction: rtl;
    }

    select {
      height: 500px;
      font-family: inherit;
    }

    option {
      height: 30px;
      direction: rtl;
      text-align: right;
      padding: 7px;
      font-size: 14px;
      font-family: inherit;
      font-weight: 500;
    }

    #inputfile {
      /* padding: 11px;
  width: 100%;
  text-align: center; */
      font-size: 20px
    }

    #zero {
      width: 100%;
      text-align: center;
      margin-top: 20px;
    }

    textarea,
    textarea:disabled {
      width: 90%;
      border: 2px solid #3079ed;
      padding: 4px;
      font-weight: 500;
      font-size: 15px;
      text-align: right;
      direction: rtl;
      font-family: inherit;
      color: black;
      background: white;
    }

    button {
      margin: 5px;
      padding: 5px 12px 5px 12px;
      width: auto;
      text-align: center;
      font-size: 19px;
      font-weight: 300;
      color: #fffcfc;
      background: #3f51b5;
      border-radius: 5px;
      border: 5px;
      font-family: inherit;
      font-weight: inherit;
    }



    button:hover {
      background: #1a2a84;
      color: #fff;
      cursor: pointer;

    }

    div {
      /* width: 100%; */
      text-align: center
    }

    @media only screen and (max-width: 600px) {
      select {
        height: 50px;
        width: 100px;
        border-radius: 12px;
        direction: rtl;
        text-align: right;

      }

      #hideCombinationTestBtn {
        left: 20% !important;
        font-size: 20px;
      }

      #delbtn {
        font-size: 20px;
      }

      #HeaderP {
        margin-top: 40px;
      }

    }

    /* @media only screen and (max-width:600px) {
  select {
    height: 350px;
    border-radius: 12px;
    text-align: center;
    width: 95%;
  }
} */

    @media only screen and (min-width:600px) {
      #HbtnDiv {
        display: block;
        width: auto;
        position: fixed;
        right: 0;
        top: 2%;
      }
    }

    p {
      /* direction: ltr */
    }

    #TestSummary {
      display: inline-block;
      font-weight: 500;
      font-size: 17px;
      color: #fff;
      background-color: #3f51b5;
      border-radius: 2px;
      padding: 5px;
    }

    .CombinationResultContainer {
      display: block;
      overflow: hidden;
      background-color: #f1f1f1;
      transition: max-height 0.2s ease-out;

    }

    #deleteCombinationTestBtn {
      background-color: #F44336;
      cursor: pointer;
      position: absolute;
      left: 2.5%;
      width: fit-content;
      height: fit-content;
      padding: 4px;
      margin: 1px;
      font-size: 17px;
      font-weight: bold;
      border-radius: 5px;
    }

    #hideCombinationTestBtn {
      background-color: #3079ed;
      cursor: pointer;
      position: absolute;
      left: 5.6%;
      width: fit-content;
      height: fit-content;
      padding: 4px;
      margin: 1px;
      font-size: 17px;
      font-weight: bold;
      border-radius: 5px;
    }

    .collapsible {
      background-color: #3f51b5;
      color: white;
      cursor: pointer;
      padding: 5px;
      width: 50%;
      border: none;
      text-align: center;
      outline: none;
      font-size: 16px;
      font-weight: bold;
    }

    .collapsible.active,
    .collapsible:hover {
      background-color: #f1f1f1;
      color: #050505;
      border: 3px #3f51b5 solid;
    }

    .collapsible:after {
      content: '\002B';
      font-weight: bold;
      float: right;
      margin-left: 5px;
    }

    .collapsible.active:after {
      content: "\2212";
      color: black;
      font-weight: bold;
      font-size: 15px;
    }


    div#HbtnDiv button {
      margin: 5px;
      display: inline-block;
      display: block;
    }

    #Schedule thead,
    td.celly3 {
      background-color: #3f51b5;
      color: white;

    }

    th.celly1,
    td.celly {
      border: 1px solid #000;
    }

    td.celly {
      background-color: #f1f1f1;
      direction: rtl;
    }

    td.celly1,
    td.celly2,
    td.celly3 {
      padding: 3px;
      font-size: 14px;
    }

    td.celly {
      font-size: 13px;
    }

    td.celly2 {
      background-color: #3867b3;
      color: white;
      direction: rtl;
    }

    select#TableSelectT {
      height: 25px;
      font-family: inherit;
    }

    table#Schedule {
      width: 100%;
      display: none;
    }

    select#Dep {
      height: 50px;
      width: 150px;
      text-align: right;
      font-size: 20px;
      font-family: inherit;
      display: inline-block;
      background-color: #0d6efd;
      border-color: #0d6efd;
      color: #fff;
      cursor: pointer;
    }

    #Dep option {
      text-align: right;
      font-size: 17px;
      padding: 41px;
      margin: 18px;
      height: 40px;
      direction: rtl;
    }

    #ScheduleDiv {
      margin-bottom: 20px;
      margin-top: 20px;
    }

    .seperator {
      height: 2px;
      background-color: #c8c8c8;
      border-bottom: 1px;
      border-bottom-style: solid;
      border-bottom-color: #fff;
      margin-left: -15px;
      margin-right: -15px;
      margin-bottom: 15px;
      margin-top: 5px;
    }

    #upload-select-file {
      /* direction: rtl;
      width: 100% */
      display: flex;
      align-items: center;
      justify-content: center;
      flex-wrap: wrap;
      padding-bottom: 15px;
    }

    a {
      text-decoration: auto;
    }

    span#drName {
      color: #0329fd;
    }

    /* new */

    #attendanceDiv {
      direction: rtl;
    }

    p#tableInfo {
      text-align: center;
      direction: rtl;
      font-size: 14px;
      padding: 0px;
      margin: 5px;
    }

    table#Schedule {
      width: 100% !important;
      float: none;
      text-align: center;
      direction: ltr;
    }

    /* div#ScheduleDiv {
  height: 1000px;
} */

    p#tableInfo {
      /* font-size: 16px; */
    }

    @media only screen and (max-width: 425px) {
      table#Schedule {

        width: 100% !important;
        margin: 0;
        padding: 0;
        float: none;

      }

      td {
        text-overflow: ellipsis !important;
        word-wrap: break-word !important;
        font-size: 10px !important;
        padding: 0px !important;
        font-weight: bold !important;
        overflow: hidden;
        word-break: break-word;
        margin: 0;
        font-family: sans-serif;
      }

      th.celly1 {
        font-size: 12px !important;
      }

      td.celly2 {
        font-size: 11px !important;
      }

      td.celly3 {
        width: 35px;
        height: 10px;
      }

      span#drName {
        display: none !important;
      }

      p#tableInfo {
        font-size: 13px;
      }
    }

    #invalidMessages {
      color: red;
      font-size: 16px;
      /* padding-top: 30px; */
    }

    /* new  */
    .guide-nav {
      width: auto;
      border-bottom: 1px solid #dee2e6;
    }

    button#fileSelect {
      font-size: 20px;
      border-radius: 0px;
    }

    .input-group {
      display: inline-flex;
      width: max-content;
    }

    .input-group-text {
      background-color: #0d6efd;
      border-color: #0d6efd;
      color: #fff;
      font-size: 1.4rem;
    }

    label.input-group-text {
      /* margin: -3px 0px; */
    }

    #tabContent {
      border: solid #0d6efd;
      border-top: 0px;
      border-radius: 25px;
    }

    .nav-pills .nav-link {
      border-right: 2px solid;
      border-left: 2px solid;
    }

    .row.guide-tabs {
      margin-bottom: 50px;
    }

    .nav {
      flex-wrap: nowrap;
    }

    .item.social {
      text-align: center
    }

    @media (max-width:991px) {
      .item.social {
        text-align: center;
        margin-top: 20px
      }
    }

    .item.social>a {
      font-size: 40px;
      width: 36px;
      height: 36px;
      line-height: 36px;
      display: inline-block;
      text-align: center;
      border-radius: 50%;
      box-shadow: 0 0 0 1px rgba(255, 255, 255, 0.4);
      margin: 0 8px;
      color: #41464b;
      opacity: 0.75
    }

    .item.social>a:hover {
      opacity: 0.9
    }

    a.fb:hover {
      color: #3b5998;
    }

    a.wa:hover {
      color: #4dc247;
    }

    a.tg:hover {
      color: #229ED9;
    }

    a.dc:hover {
      color: #5865F2;
    }

    a.gh:hover {
      color: #171515;
    }

    .tab-content {
      direction: rtl;
    }

    .script-instructions {
      width: fit-content;
    }

    .badge {
      background-color: #0d6efd;
      margin-left: 5px;
    }

    .justify-content-between {
      color: #0d6efd;
    }

    .files-table {
      width: fit-content;
    }

    .jumbotron {
      padding: 0.1rem 0.2rem;
      margin-bottom: 2rem;
      background-color: #0d6efd;
      border-radius: 0.3rem;
      color: #fff;
      width: fit-content;
    }

    .sticky {
      position: fixed;
      top: 0;
      width: 100%;
    }

    /* .title-logo {
      margin-bottom: 0.5rem !important;
      color: #0d6efd;
      border: 2px solid #0d6efd;
      width: fit-content;
      padding: 5px;
      border-radius: 6px;
      border-top: 0px;
    } */

    .navbar {
      flex-direction: column;
    }

    .tab-content>.active {
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
    }

    .select-checkboxes {
      display: flex;
      align-items: flex-start;
      justify-content: start;
      flex-direction: column;
      padding: 5px;
      overflow-y: scroll;
      overflow-x: hidden;
      max-width: fit-content;
      max-height: 445px;
      direction: rtl;
    }

    .checkbox-label {
      display: flex;
      align-items: center;
      flex-direction: row-reverse;
      cursor: pointer;
      justify-content: start;
      width: 100%;
      margin: 3px;
      padding: 5px 0px
    }

    .checkbox-input,
    .select-all-checkbox-input {
      margin-left: 5px;
    }

    .checkbox-label:hover {
      background: #e5e5e5;
      color: #000;
    }

    .checkbox-label.selected {
      background: #340bb8;
      color: #fff;
      padding: 7px;
      padding-right: 5px;
    }

    #CourseSelect,
    #GroupSelect {
      display: none;
    }

    #CourseSelector,
    #GroupSelector {
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
    }

    .select-all-checkbox {
      display: flex;
      flex-direction: row-reverse;
      align-items: center;
    }
  </style>
</head>


<body>

  <form id='zero' onsubmit='return false'></form>

  <div id='failed'></div>

  <!-- Start Schedule  -->
  <div id='ScheduleDiv' style="display: none;">
    <p id="tableInfo"></p>
    <button id="printSchedule">طباعة الجدول</button>
    <table class='tg' id='Schedule'>
      <thead>
        <tr>
          <th class='celly1'>8</th>
          <th class='celly1'>7</th>
          <th class='celly1'>6</th>
          <th class='celly1'>5</th>
          <th class='celly1'>4</th>
          <th class='celly1'>3</th>
          <th class='celly1'>2</th>
          <th class='celly1'>1</th>
          <th class='celly1'>الفترة</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td class='celly2'>2:45 - 3:30</td>
          <td class='celly2'>2:00 - 2:45</td>
          <td class='celly2'>1:05 - 1:50</td>
          <td class='celly2'>12:20 - 1:05</td>
          <td class='celly2'>11:25 - 12:10</td>
          <td class='celly2'>10:40 - 11:25</td>
          <td class='celly2'>9:45 - 10:30</td>
          <td class='celly2'>9:00 - 9:45</td>
          <td class='celly2'>التوقيت</td>
        </tr>
        <tr>
          <td class='celly'>18</td>
          <td class='celly'>17</td>
          <td class='celly'>16</td>
          <td class='celly'>15</td>
          <td class='celly'>14</td>
          <td class='celly'>13</td>
          <td class='celly'>12</td>
          <td class='celly'>11</td>
          <td class='celly3'>السبت</td>
        </tr>
        <tr>
          <td class='celly'>28</td>
          <td class='celly'>27</td>
          <td class='celly'>26</td>
          <td class='celly'>25</td>
          <td class='celly'>24</td>
          <td class='celly'>23</td>
          <td class='celly'>22</td>
          <td class='celly'>21</td>
          <td class='celly3'>الأحد</td>
        </tr>
        <tr>
          <td class='celly'>38</td>
          <td class='celly'>37</td>
          <td class='celly'>36</td>
          <td class='celly'>35</td>
          <td class='celly'>34</td>
          <td class='celly'>33</td>
          <td class='celly'>32</td>
          <td class='celly'>31</td>
          <td class='celly3'>الاثنين</td>
        </tr>
        <tr>
          <td class='celly'>48</td>
          <td class='celly'>47</td>
          <td class='celly'>46</td>
          <td class='celly'>45</td>
          <td class='celly'>44</td>
          <td class='celly'>43</td>
          <td class='celly'>42</td>
          <td class='celly'>41</td>
          <td class='celly3'>الثلاثاء</td>
        </tr>
        <tr>
          <td class='celly'>58</td>
          <td class='celly'>57</td>
          <td class='celly'>56</td>
          <td class='celly'>55</td>
          <td class='celly'>54</td>
          <td class='celly'>53</td>
          <td class='celly'>52</td>
          <td class='celly'>51</td>
          <td class='celly3'>الأربعاء</td>
        </tr>
        <tr>
          <td class='celly'>68</td>
          <td class='celly'>67</td>
          <td class='celly'>66</td>
          <td class='celly'>65</td>
          <td class='celly'>64</td>
          <td class='celly'>63</td>
          <td class='celly'>62</td>
          <td class='celly'>61</td>
          <td class='celly3'>الخميس</td>
        </tr>
      </tbody>
    </table>
  </div>
  <!-- End Schedule  -->


  <!-- Start home screen  -->
  <div id="home-screen">
    <div id="header-note"></div>
    <div id="upload-select-file">
      <div class="input-group">
        <label class="input-group-text" for="upload-select-file"><i class="bi bi-menu-button"></i></label>

        <select class="form-select" name="upload-select-file" id="Dep">
          <option value=""> إختر القسم</option>
        </select>
      </div>
      <div class="input-group">
        <input id='inputfile' name="sampleFile" hidden type='file' accept=".txt,.csv,.json" />
        <button class="btn btn-primary btn-lg" id="fileSelect" type="button"> ارفع ملف المواد <i class="bi bi-upload"></i></button>
      </div>
      <!-- <input id='inputfile' hidden type='file' accept=".csv,.json" /> -->

    </div>
    <div id="invalidMessages"></div>
    <!-- Start guide-tabs  -->
    <div class="row guide-tabs">
      <ul class="nav nav-pills mb-3 mx-auto guide-nav" id="guideTabs" role="tablist">
        <li class="nav-item" role="presentation">
          <button class="nav-link active" id="script-instructions-tab" data-bs-toggle="pill" data-bs-target="#content-script-instructions" type="button" role="tab" aria-controls="content-script-instructions" aria-selected="false">
            <i class="bi bi-info-square-fill"></i>
            شرح السكربت</button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="download-files-tab" data-bs-toggle="pill" data-bs-target="#content-files" type="button" role="tab" aria-controls="content-files" aria-selected="false">
            <i class="bi bi-file-text-fill"></i>
            ملفات مواد الأقسام</button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="file-instructions-tab" data-bs-toggle="pill" data-bs-target="#content-file-instructions" type="button" role="tab" aria-controls="content-file-instructions" aria-selected="false">
            <i class="bi bi-bricks"></i>
            شرح إنشاء ملف المواد</button>
        </li>
      </ul>
      <div class="tab-content" id="tabContent">
        <div class="tab-pane fade active show" id="content-script-instructions" role="tabpanel" aria-labelledby="script-instructions-tab">

          <div class="list-group script-instructions">
            <a class="list-group-item list-group-item-action flex-column align-items-start">
              <div class="d-flex w-100 justify-content-between">
                <h5 class="mb-1"><span class="badge badge-light">1</span>ادخال ملف المواد</h5>
              </div>
              <p class="mb-1">يمكنك اختيار القسم لادخال ملف المواد تلقائيا أو يمكنك رفع ملف مواد خاص بك ويلي ذلك ظهور
                قائمة اختيار المواد
              </p>
            </a>

            <a class="list-group-item list-group-item-action flex-column align-items-start">
              <div class="d-flex w-100 justify-content-between">
                <h5 class="mb-1"><span class="badge badge-light">2</span>اختيار المواد</h5>
              </div>
              <p class="mb-1">اختر المواد المراد تسجيلها سواء كلها أو بعضها ويلي ذلك ظهور قائمة اختيار المجموعات</p>
            </a>

            <a class="list-group-item list-group-item-action flex-column align-items-start">
              <div class="d-flex w-100 justify-content-between">
                <h5 class="mb-1"><span class="badge badge-light">3</span>اختيار المجموعات</h5>
              </div>
              <p class="mb-1">اختر المجموعات كلها أو بعضها حسب المحاضرين والمعيدين</p>
            </a>
            <a class="list-group-item list-group-item-action flex-column align-items-start">
              <div class="d-flex w-100 justify-content-between">
                <h5 class="mb-1"><span class="badge badge-light">4</span>طباعة الاحتمالات وتصفح الجداول</h5>
              </div>
              <p class="mb-1"> تظهر الاحتمالات الناجحة لتسجيل المواد على صورة جدول دراسي وصورة نصية.
                <br>
                يمكن التنقل بين الجداول وفلترتها حسب عدد أيام الحضور.
              </p>
            </a>
          </div>
        </div>

        <div class="tab-pane fade" id="content-files" role="tabpanel" aria-labelledby="download-files-tab">
          <table class="table table-hover files-table mx-auto">
            <thead>
              <tr>
                <th scope="col">القسم</th>
                <th scope="col">الترم</th>
                <th scope="col">آخر تحديث للملف</th>
                <th scope="col">تحميل</th>
              </tr>
            </thead>
            <tbody id="files-sec">
            </tbody>
          </table>
        </div>
        <div class="tab-pane fade" id="content-file-instructions" role="tabpanel" aria-labelledby="file-instructions-tab">

          <p>فيديو يوضح كيفية قيام الطالب بمفرده بعمل ملف مواد خاص به،
            <br>
            ثم تجربته على السكربت لإنشاء الجداول الممكنة لتسجيل هذه المواد،
            <br>
            ثم اختيار الجدول المناسب والتأكد من صحته
          </p>

          <div>
            <a href="https://www.youtube.com/watch?v=tRuwgX6EQ4w" target="_blank">
              رابط الفيديو
              <i class="bi bi-youtube"></i>
            </a>
            <br>
            <a href="https://github.com/AlMoaanediLabs/PathFinderGuide#%D9%83%D9%8A%D9%81%D9%8A%D8%A9-%D8%B9%D9%85%D9%84-%D9%85%D9%84%D9%81-%D8%A7%D9%84%D9%85%D9%88%D8%A7%D8%AF" target="_blank">
              رابط شرح الخطوات على GitHub
              <i class="bi bi-github"></i>
            </a>
            <br>
            <a href="https://reginput.blogspot.com" target="_blank">
              رابط فورم إنشاء ملف المواد
              <i class="bi bi-input-cursor"></i>
            </a>
          </div>
        </div>
      </div>
    </div>
    <!-- End switch nav  -->


    <script>
      document.querySelectorAll('.nav-link').forEach(button => {
        button.addEventListener('click', showTabContent)
      });

      function showTabContent(e) {
        // Enabling the target nav link
        let targetNavLink = e.currentTarget
        targetNavLink.classList.add('active')
        targetNavLink.setAttribute('aria-selected', true)

        // console.log('targetNavLink.id', targetNavLink.id)

        // Disabling other nav links
        document.querySelectorAll('.nav-link')
          .forEach(btn => {
            if (btn.id != targetNavLink.id) {
              // console.log('disabled : ', btn.id)
              btn.classList.remove('active')
              btn.setAttribute('aria-selected', false)
            }
          })

        // Showing the target content
        let ariaControls = targetNavLink.getAttribute('aria-controls')
        // console.log('ariaControls', ariaControls)
        let targetContent = document.querySelector(`#${ariaControls}`)
        targetContent.classList.add('active', 'show')
        targetContent.style.display = "flex"

        console.log('targetContent', targetContent)

        // Hiding other content
        document.querySelectorAll('.tab-pane')
          .forEach(content => {
            if (content.id != targetContent.id) {
              console.log('hidden : ', content.id)
              content.classList.remove('active', 'show')
              content.style.display = "none"
            }
          })
      }
    </script>

    <!-- Start Footer  -->
    <nav class="navbar navbar-light bg-light">
      <a class="navbar-brand" href="#">
        <img src="https://static.wikia.nocookie.net/apexlegends_gamepedia_en/images/7/7c/Recon.svg" width="30" height="30" class="d-inline-block align-top" alt="">
        سكربت الجداول PathFinder
      </a>
      <div class="col item social">
        <a href="#" class="fb"><i class="bi bi-facebook"></i></a>
        <a href="#" class="wa"><i class="bi bi-whatsapp"></i></a>
        <a href="#" class="tg"><i class="bi bi-telegram"></i></a>
        <a href="#" class="dc"><i class="bi bi-discord"></i></a>
        <a href="#" class="gh"><i class="bi bi-github"></i></a>
      </div>
    </nav>
    <!-- End Footer  -->

  </div>
  <!-- End home screen  -->

  <script src="./main.js"></script>
</body>

</html>